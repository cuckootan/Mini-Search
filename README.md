text_search
===========

文本查询服务

一 简介
这是一个基于CS模型的文本查询服务，用户在客户端输入某个词后，从服务端返回这个词对应的一个候选词集。

二 用到的一些关键技术
1 服务器模型的建立
也即echo库。

2 词库的建立

3 计算最小编辑距离
用了非递归的动态规划算法。

4 索引的建立
对每个字母建立一个索引项，可以减小候选词的范围，从而减少计算编辑距离的次数。

5 建立候选词库
根据索引项，将所有用户搜索词每个字母对应的索引项求并集，组成候选词库。

6 通过将用户搜索的词长度与词库中符合要求的词的长度相减后求绝对值，若这个值大于指定的编辑距离值，则舍去。
此法可有效减少编辑距离的次数。

7 建立优先队列
将不大于指编辑距离的，候选词集，加入优先队列中。且将那些编辑距离小，词频大的词放在优先队列的前面。

8 cache的建立
采取的是LRU机制，以双链表为底层结构。用户搜索的词最先在cache中查找，若找到了，立即返回对应的候选词库；若未找到，
则从候选词库中获取，并写至cache中。

9 cache初始化与定时将cache写回文件中
cache初始化是指服务器启动的时候，从文件中所有项目读入cache中。定时回写采取的是将cache中的所有项而非某个项写回文件，
原因在于考虑到服务器宕机的情况。文件IO效率太低，可以考虑用数据库的方法，而且这里采用的是单cache，可以考虑用多cache
提高效率。

三 运用方法
通过执行make命令，生成可执行程序。通过执行make run命令，运行这个程序。
